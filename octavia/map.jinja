{% set api = salt['grains.filter_by']({
    'Debian': {
        'pkgs': ['octavia-common', 'octavia-api'],
        'services': ['octavia-api'],
        'notification': False,
        'cors': {},
        'audit': {
          'enabled': false
        }
    },
    'RedHat': {
        'pkgs': ['octavia-common', 'octavia-api'],
        'services': ['octavia-api'],
        'notification': False,
        'cors': {},
        'audit': {
          'enabled': false
        }
    },
}, merge=pillar.octavia.get('api', {})) %}

{% set manager = salt['grains.filter_by']({
    'Debian': {
        'pkgs': ['octavia-common', 'octavia-worker', 'octavia-housekeeping',
                 'octavia-health-manager', 'iptables-persistent'],
        'services': ['octavia-worker', 'octavia-housekeeping', 'octavia-health-manager'],
        'notification': False,
        'cors': {},
        'audit': {
          'enabled': false
        }
    },
    'RedHat': {
        'pkgs': ['octavia-common', 'octavia-worker', 'octavia-housekeeping',
                 'octavia-health-manager', 'iptables-persistent'],
        'services': ['octavia-worker', 'octavia-housekeeping', 'octavia-health-manager'],
        'notification': False,
        'cors': {},
        'audit': {
          'enabled': false
        }
    },
}, merge=pillar.octavia.get('manager', {})) %}
